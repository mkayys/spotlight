<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

    <script src="dist/main.js" charset="utf-8" defer></script>
    <style>
    
    </style>
</head>


<body>
    <canvas id="canvas" height="500" width="600"></canvas>

    <script>

        let canvas = document.getElementById("canvas"),
        ctx = canvas.getContext("2d");

        canvas.width = canvas.height = 300;

        let x = 150,
            y = 150,
            velY = 0,
            velX = 0,
            speed = 2,
            friction = 0.98,
            keys = [];

        function update() {
            requestAnimationFrame(update);

            if (keys[38]) {
                if (velY > -speed) {
                    velY--;
                }
            }

            if (keys[40]) {
                if (velY < speed) {
                    velY++;
                }
            }
            if (keys[39]) {
                if (velX < speed) {
                    velX++;
                }
            }
            if (keys[37]) {
                if (velX > -speed) {
                    velX--;
                }
            }

            velY *= friction;
            y += velY;
            velX *= friction;
            x += velX;

            if (x >= 295) {
                x = 295;
            } else if (x <= 5) {
                x = 5;
            }

            if (y > 295) {
                y = 295;
            } else if (y <= 5) {
                y = 5;
            }

            ctx.clearRect(0, 0, 300, 300);
            ctx.beginPath();
            ctx.arc(x, y, 5, 0, Math.PI * 2);
            ctx.fill();
        }

        update();

        document.body.addEventListener("keydown", function (e) {
            keys[e.keyCode] = true;
        });
        document.body.addEventListener("keyup", function (e) {
            keys[e.keyCode] = false;
        });
        
        // let canvas = document.getElementById('canvas');
        // let ctx = canvas.getContext('2d');
        // let imgObj = new Image();

        // imgObj.onload = function () {
        //     ctx.drawImage(imgObj, 50, 10);
        // };

        // imgObj.src = 'moon.jpg';


        // let canvas = document.querySelector("#myCanvas");
        // let context = canvas.getContext("2d");

        // window.addEventListener("keydown", moveSomething, false);
        
        // let deltaX = 0;
        // let deltaY = 0;
        // requestAnimationFrame(moveSomething);
        
        // function moveSomething(e) {
        //     switch (e.keyCode) {
        //         case 37:
        //             deltaX -= 10;
        //             break;
        //         case 38:
        //             deltaY -= 10;
        //             break;
        //         case 39:
        //             deltaX += 10;
        //             break;
        //         case 40:
        //             deltaY += 10;
        //             break;
        //     }
        //     e.preventDefault();
            
        //     drawTriangle();
        //     requestAnimationFrame(moveSomething)

        // }    


        // function drawTriangle() {
        //     context.clearRect(0, 0, canvas.width, canvas.height);
        //     // the triangle
        //     context.beginPath();

        //     context.moveTo(200 + deltaX, 100 + deltaY);
        //     context.lineTo(170 + deltaX, 150 + deltaY);
        //     context.lineTo(230 + deltaX, 150 + deltaY);

        //     context.closePath();

        //     // the outline
        //     context.lineWidth = 10;
        //     context.strokeStyle = "rgba(102, 102, 102, 1)";
        //     context.stroke();

        //     // the fill color
        //     context.fillStyle = "rgba(255, 204, 0, 1)";
        //     context.fill();
        // }
        // drawTriangle();
        

    </script>

</body>
</html>